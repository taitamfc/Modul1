<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    button {
        width: 70px;
        height: 50px;
        border-radius: 30px;

    }

    button {
        background-color: aquamarine;
        font-size: 25px;
    }
    fieldset { background-image:url(/ham2/hinh.JPG) ;
    width: 200px;
}
p{
    font-size: 100px;
}
</style>

<body>
    <fieldset>
        <div class="times">
            <h1>Chicken player</h1>
            <button id="start" style="width: auto;" onclick="click_start()">Start</button>
            <a id="point">Point:</a>
            <input type="text" name="" id="">
            <a>Times:</a>
            <input id="time" type="text" value="360">
            
        </div>
        <div id="game"></div>
      
    </fieldset>
      <p id="socantim" ></p>
</body>
<script>
    var setTime = function () {
        var time = document.getElementById('time').value;
        time--;
        document.getElementById('time').value = time;
        if (time > 0 && point >= 100) {
            alert('You won')
        } else if (time == 0 && point < 100) {
            alert('Gameover' + point + 'điểm')
        }

    }
    function click_start() {
        setInterval(setTime, 1000)
        show()
    }




    var data = '<table border="0" cellpacing=0 cellpadding=3> '
    function xaomang(array) {
        let currentIndex = array.length, randomIndex;
        // ham xao tron
        while (currentIndex != 0) {
            // Pick a remaining element...
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            // And swap it with the current element.
            [array[currentIndex], array[randomIndex]] = [
                array[randomIndex], array[currentIndex]];
        }
        return array;
    }

    //tao mang hien thi so
    var numberarr = []
    function show() {
        for (a = 0; a <= 99; a++) {
            numberarr[a] = a + 1
        }
        numberarr = xaomang(numberarr)
        var index = 0
        for (var i = 0; i < 5; i++) {
            data += '<tr>'
            for (var j = 0; j < 20; j++) {
                data += '<td><button id="click_button_' + numberarr[index] + '" onclick="click_buton(' + numberarr[index] + ')">' + numberarr[index] + '</button></td>'
                index++
            }
            data += '</tr>'   
        }
        document.getElementById('game').innerHTML = data
    }
    var nextNumber = 1
    var point = 0
    function click_buton(ts_number) {
        if (nextNumber == ts_number) {
            document.getElementById('click_button_' + ts_number).style.background = 'white'
            nextNumber++;
            point++;
            document.getElementById('socantim').innerHTML='Tim số '+nextNumber
        } else {
            document.getElementById('point').value = point
            alert('game over' + point + ':điểm')
        }
    }

</script>

</html>